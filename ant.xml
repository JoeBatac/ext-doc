<?xml version="1.0" encoding="ISO-8859-1"?>
<project name="exthelp" default="all">

    <taskdef name="xjc" classname="com.sun.tools.xjc.XJCTask">
      <classpath>
        <fileset dir="lib" includes="jaxb-xjc.jar"/>
      </classpath>
    </taskdef>
    
    <target name="clean">
        <delete dir="bin"/>
        <delete dir="build"/>
        <delete dir="java/src/main/azubkov/jsdoc/schema"/>
    </target>

    <target name="compile">
        <mkdir dir="bin"/>
        <xjc schema="resources/schema/build-doc.xsd" destdir="java/src/main" package="main.extdoc.jsdoc.schema"/>
        <javac srcdir="java/src/main" destdir="bin"/>        
    </target>

    <target name="jar" depends="compile">
        <mkdir dir="build"/>
        <jar destfile="build/build-doc.jar">
            <fileset dir="bin" includes="**/*.class"/>
            <manifest>
                <attribute name="Main-Class" value="azubkov.jsdoc.Main"/>
            </manifest>
        </jar>
    </target>
    
    <target name="all" depends="clean, compile, jar" description="build all"/>
</project>